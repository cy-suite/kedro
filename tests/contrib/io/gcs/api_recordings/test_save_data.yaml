interactions:
- request:
    body: assertion=xxx&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '987'
      content-type:
      - application/x-www-form-urlencoded
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3Oy46CMBQA0L1fQbpWU4svZsc1glFjrBgY3DQVywxpo1hEWo3/bmB7VufdcxzE
        s0xUFXvcpLiiHwdZTrxhNlyqyQBG6/p54YKZ0FMTO63vfBNEc7DGn2lMqcr93SFNlrcxabTMcVK8
        gvMeAn8x8xL5azCN8Grg/gVNGUMOdLylCylz2oSpiucsAgtw1nEp/0cnl4SEpKo25nhJARvUb3PC
        lIUWFSvamjvFuNPuyh62FG0YBNdCo97nC+gIloPPAAAA
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 09 Sep 2019 11:01:01 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      X-Goog-API-Client:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      authorization:
      - Bearer ya29.c.El6KB32wcYZKGG7eQ9zMBSDHBzWWGfaXdH21wVf6V-4lh4souLuwsjSwcHV4VHsOtgwvcNz--_WRltt2hIsjIGNSsOuX8aSlljnjsftJg32zb_flhY4eG8zAGJmVQ2d9
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/test_bucket?projection=noAcl
  response:
    body:
      string: "{\n  \"kind\": \"storage#bucket\",\n  \"id\": \"test_bucket\",\n  \"\
        selfLink\": \"https://www.googleapis.com/storage/v1/b/test_bucket\",\n  \"\
        projectNumber\": \"1011474896942\",\n  \"name\": \"test_bucket\",\n  \"metageneration\"\
        : \"3\",\n  \"location\": \"EUROPE-WEST1\",\n  \"defaultEventBasedHold\":\
        \ false,\n  \"storageClass\": \"STANDARD\",\n  \"etag\": \"CAM=\",\n  \"iamConfiguration\"\
        : {\n    \"bucketPolicyOnly\": {\n      \"enabled\": false\n    },\n    \"\
        uniformBucketLevelAccess\": {\n      \"enabled\": false\n    }\n  },\n  \"\
        locationType\": \"region\",\n  \"timeCreated\": \"2019-09-06T22:03:27.598Z\"\
        ,\n  \"updated\": \"2019-09-06T22:53:16.791Z\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '583'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Sat, 21 Sep 2019 13:10:29 GMT
      Etag:
      - CAM=
      Expires:
      - Sat, 21 Sep 2019 13:10:29 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqG-UOj2R9S7JlXon3UZhm-ZNYSG385y0QH3gnZ3SNaD_s3GAPNLa4rrGIP-Bdo-VYGgk_N-FvQDg7bnTUDXY59QiakQA
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      X-Goog-API-Client:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      authorization:
      - Bearer ya29.c.El6KB32wcYZKGG7eQ9zMBSDHBzWWGfaXdH21wVf6V-4lh4souLuwsjSwcHV4VHsOtgwvcNz--_WRltt2hIsjIGNSsOuX8aSlljnjsftJg32zb_flhY4eG8zAGJmVQ2d9
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?fields=name
  response:
    body:
      string: "{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"No such object:\
        \ test_bucket/test_bucket/test.csv\",\n    \"errors\": [\n      {\n      \
        \  \"message\": \"No such object: test_bucket/test_bucket/test.csv\",\n  \
        \      \"domain\": \"global\",\n        \"reason\": \"notFound\"\n      }\n\
        \    ]\n  }\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '271'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Sat, 21 Sep 2019 13:10:29 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UqkMqbbiWOoDjXdibpizn-9WSk2W3jPvwEc8NJkuU50iiI_zjbMpZZzIMeAy49eF_CqLMVzi82xFhwVYM-2_LcUIrkgPA
    status:
      code: 404
      message: Not Found
- request:
    body: "--===============7845470178144389296==\r\ncontent-type: application/json;\
      \ charset=UTF-8\r\n\r\n{\"name\": \"test_bucket/test.csv\"}\r\n--===============7845470178144389296==\r\
      \ncontent-type: text/plain\r\n\r\ncol1,col2,col3\r\n1,4,5\r\n2,5,6\r\n\r\n--===============7845470178144389296==--"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '263'
      User-Agent:
      - python-requests/2.22.0
      authorization:
      - Bearer ya29.c.El6KB32wcYZKGG7eQ9zMBSDHBzWWGfaXdH21wVf6V-4lh4souLuwsjSwcHV4VHsOtgwvcNz--_WRltt2hIsjIGNSsOuX8aSlljnjsftJg32zb_flhY4eG8zAGJmVQ2d9
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT03ODQ1NDcwMTc4MTQ0
        Mzg5Mjk2PT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/test_bucket/o?uploadType=multipart
  response:
    body:
      string: "{\n \"kind\": \"storage#object\",\n \"id\": \"test_bucket/test_bucket/test.csv/1569071429497309\"\
        ,\n \"selfLink\": \"https://www.googleapis.com/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv\"\
        ,\n \"name\": \"test_bucket/test.csv\",\n \"bucket\": \"test_bucket\",\n \"\
        generation\": \"1569071429497309\",\n \"metageneration\": \"1\",\n \"contentType\"\
        : \"text/plain\",\n \"timeCreated\": \"2019-09-21T13:10:29.497Z\",\n \"updated\"\
        : \"2019-09-21T13:10:29.497Z\",\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\"\
        : \"2019-09-21T13:10:29.497Z\",\n \"size\": \"30\",\n \"md5Hash\": \"7o9vAhPGXhDTvh8MgEDSfw==\"\
        ,\n \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?generation=1569071429497309&alt=media\"\
        ,\n \"crc32c\": \"Gh7sgQ==\",\n \"etag\": \"CN3jusn+4eQCEAE=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '748'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Sat, 21 Sep 2019 13:10:29 GMT
      ETag:
      - CN3jusn+4eQCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2Uq3IDanpv9REYkamqsSE_5IohGYAjZqlh2GpeE6JzZwaOvhNzaLDu5F0vsk3L6fPDHwQ4fYvQL3mA256v0CJvXmgY__lQ
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      X-Goog-API-Client:
      - gl-python/3.6.4 grpc/1.15.0 gax/1.14.2 gapic/1.19.0 gccl/1.19.0
      authorization:
      - Bearer ya29.c.El6KB32wcYZKGG7eQ9zMBSDHBzWWGfaXdH21wVf6V-4lh4souLuwsjSwcHV4VHsOtgwvcNz--_WRltt2hIsjIGNSsOuX8aSlljnjsftJg32zb_flhY4eG8zAGJmVQ2d9
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?fields=name
  response:
    body:
      string: "{\n  \"name\": \"test_bucket/test.csv\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '37'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Sat, 21 Sep 2019 13:10:29 GMT
      Etag:
      - CN3jusn+4eQCEAE=
      Expires:
      - Sat, 21 Sep 2019 13:10:29 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UpnosYmHlV2cSbdfMn0nDha8rKIZFYviU5P-L1gWXmTQpo4E5IeazQsa-P2B53meh1tIevFb0u-vDqxZTYLs7TmFQyRQg
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      accept-encoding:
      - gzip
      authorization:
      - Bearer ya29.c.El6KB32wcYZKGG7eQ9zMBSDHBzWWGfaXdH21wVf6V-4lh4souLuwsjSwcHV4VHsOtgwvcNz--_WRltt2hIsjIGNSsOuX8aSlljnjsftJg32zb_flhY4eG8zAGJmVQ2d9
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?alt=media
  response:
    body:
      string: "col1,col2,col3\r\n1,4,5\r\n2,5,6\r\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Length:
      - '30'
      Content-Type:
      - text/plain
      Date:
      - Sat, 21 Sep 2019 13:10:29 GMT
      ETag:
      - CN3jusn+4eQCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - AEnB2UrhY6itjA9zbzQjIrKSeFR7kN-c4EII7bigwhIHWoHBHfZTsQihfi7htnEgC6gIRUrXIoAv99H5EyLBfllOixwlXDXHFQ
      X-Goog-Generation:
      - '1569071429497309'
      X-Goog-Hash:
      - crc32c=Gh7sgQ==,md5=7o9vAhPGXhDTvh8MgEDSfw==
      X-Goog-Metageneration:
      - '1'
      X-Goog-Storage-Class:
      - STANDARD
    status:
      code: 200
      message: OK
version: 1
