interactions:
- request:
    body: assertion=xxx&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '987'
      content-type:
      - application/x-www-form-urlencoded
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3Oy46CMBQA0L1fQbpWU4svZsc1glFjrBgY3DQVywxpo1hEWo3/bmB7VufdcxzE
        s0xUFXvcpLiiHwdZTrxhNlyqyQBG6/p54YKZ0FMTO63vfBNEc7DGn2lMqcr93SFNlrcxabTMcVK8
        gvMeAn8x8xL5azCN8Grg/gVNGUMOdLylCylz2oSpiucsAgtw1nEp/0cnl4SEpKo25nhJARvUb3PC
        lIUWFSvamjvFuNPuyh62FG0YBNdCo97nC+gIloPPAAAA
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 09 Sep 2019 11:01:01 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      authorization:
      - Bearer ya29.c.El5-B1Juvdre_xG9l5y6uqaKFS8ByxA7r0QQlfANRYWEo42wrkf0WizFbPBFAC79WkXx0QS0H-3gFwpVBfBQ4LQCkkfQwGYlV8_SByBBbrVpkh1Z32G22YluxxTdYB0x
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/test_bucket?projection=noAcl
  response:
    body:
      string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"test_bucket\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/test_bucket\",\n
        \"projectNumber\": \"0123456789012\",\n \"name\": \"test_bucket\",\n
        \"timeCreated\": \"2019-09-06T22:03:27.598Z\",\n \"updated\": \"2019-09-06T22:53:16.791Z\",\n
        \"metageneration\": \"3\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"EUROPE-WEST1\",\n \"locationType\": \"region\",\n
        \"defaultEventBasedHold\": false,\n \"storageClass\": \"STANDARD\",\n \"etag\":
        \"CAM=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '581'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 09 Sep 2019 10:24:38 GMT
      ETag:
      - CAM=
      Expires:
      - Mon, 09 Sep 2019 10:24:38 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
    status:
      code: 200
      message: OK
- request:
    body: "--===============8280178017679685198==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"test_bucket/test.csv\"}\r\n--===============8280178017679685198==\r\ncontent-type:
      text/plain\r\n\r\ncol1,col2,col3\r\n1,4,5\r\n2,5,6\r\n\r\n--===============8280178017679685198==--"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '274'
      User-Agent:
      - python-requests/2.22.0
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT04MjgwMTc4MDE3Njc5
        Njg1MTk4PT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/test_bucket/o?uploadType=multipart
  response:
    body:
      string: "{\n \"kind\": \"storage#object\",\n \"id\": \"test_bucket/test_bucket/test.csv/1568026107428536\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv\",\n
        \"name\": \"test_bucket/test.csv\",\n \"bucket\": \"test_bucket\",\n
        \"generation\": \"1568026107428536\",\n \"metageneration\": \"1\",\n \"contentType\":
        \"text/plain\",\n \"timeCreated\": \"2019-09-09T10:48:27.428Z\",\n \"updated\":
        \"2019-09-09T10:48:27.428Z\",\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\":
        \"2019-09-09T10:48:27.428Z\",\n \"size\": \"30\",\n \"md5Hash\": \"7o9vAhPGXhDTvh8MgEDSfw==\",\n
        \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?generation=1568026107428536&alt=media\",\n
        \"crc32c\": \"Gh7sgQ==\",\n \"etag\": \"CLj9hrnIw+QCEAE=\"\n}\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '828'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 09 Sep 2019 10:48:27 GMT
      ETag:
      - CLj9hrnIw+QCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Connection:
      - keep-alive
      accept-encoding:
      - gzip
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/test_bucket/o/test_bucket%2Ftest.csv?alt=media
  response:
    body:
      string: "col1,col2,col3\r\n1,4,5\r\n2,5,6\r\n"
    headers:
      Alt-Svc:
      - quic=":443"; ma=2592000; v="46,43,39"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Length:
      - '30'
      Content-Type:
      - text/plain
      Date:
      - Mon, 09 Sep 2019 10:48:27 GMT
      ETag:
      - CLj9hrnIw+QCEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
    status:
      code: 200
      message: OK
version: 1
